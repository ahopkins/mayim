(window.webpackJsonp=window.webpackJsonp||[]).push([[24],{460:function(t,a,s){"use strict";s.r(a);var e=s(35),n=Object(e.a)({},(function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("h1",{attrs:{id:"mayim-mayim"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#mayim-mayim"}},[t._v("#")]),t._v(" mayim.mayim")]),t._v(" "),s("h2",{attrs:{id:"table-of-contents"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#table-of-contents"}},[t._v("#")]),t._v(" Table of Contents")]),t._v(" "),s("ul",[s("li",[s("a",{attrs:{href:"#mayim-mayim"}},[t._v("mayim.mayim")]),t._v(" "),s("ul",[s("li",[s("a",{attrs:{href:"#mayim"}},[t._v("Mayim")]),t._v(" "),s("ul",[s("li",[s("a",{attrs:{href:"#__init__"}},[t._v("__init__")])]),t._v(" "),s("li",[s("a",{attrs:{href:"#connect"}},[t._v("connect")])]),t._v(" "),s("li",[s("a",{attrs:{href:"#disconnect"}},[t._v("disconnect")])]),t._v(" "),s("li",[s("a",{attrs:{href:"#get"}},[t._v("get")])]),t._v(" "),s("li",[s("a",{attrs:{href:"#load"}},[t._v("load")])]),t._v(" "),s("li",[s("a",{attrs:{href:"#register"}},[t._v("register")])]),t._v(" "),s("li",[s("a",{attrs:{href:"#reset_registry"}},[t._v("reset_registry")])]),t._v(" "),s("li",[s("a",{attrs:{href:"#transaction"}},[t._v("transaction")])])])])])])]),t._v(" "),s("h2",{attrs:{id:"mayim"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#mayim"}},[t._v("#")]),t._v(" "),s("code",[t._v("Mayim")])]),t._v(" "),s("div",{staticClass:"language-python extra-class"},[s("pre",{pre:!0,attrs:{class:"language-python"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Mayim")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),s("p",[s("a",{attrs:{href:"https://github.com/ahopkins/mayim/tree/main/src/mayim/mayim.py#L19",target:"_blank",rel:"noopener noreferrer"}},[t._v("[view_source]"),s("OutboundLink")],1)]),t._v(" "),s("p",[t._v("Main entryway for initializing access to the data layer.")]),t._v(" "),s("p",[t._v("Where possible, it is advised (although not necessary) to initialize the\nMayim object once the async loop is running.")]),t._v(" "),s("p",[s("strong",[t._v("Example")]),t._v(":")]),t._v(" "),s("div",{staticClass:"language-python extra-class"},[s("pre",{pre:!0,attrs:{class:"language-python"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("async")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("def")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("run")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    Mayim"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n        executors"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("MyExecutor"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n        dsn"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"postgres://user:pass@localhost:5432/mydb"')]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),s("h3",{attrs:{id:"init"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#init"}},[t._v("#")]),t._v(" "),s("code",[t._v("__init__")])]),t._v(" "),s("div",{staticClass:"language-python extra-class"},[s("pre",{pre:!0,attrs:{class:"language-python"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("def")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("__init__")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n             executors"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" Optional"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("Sequence"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("Union"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("Type"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("Executor"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n                                                Executor"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("None")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n             dsn"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("str")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('""')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n             db_path"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("str")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('""')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n             hydrator"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" Optional"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("Hydrator"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("None")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n             pool"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" Optional"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("BaseInterface"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("None")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n             strict"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("bool")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("True")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),s("p",[s("a",{attrs:{href:"https://github.com/ahopkins/mayim/tree/main/src/mayim/mayim.py#L36",target:"_blank",rel:"noopener noreferrer"}},[t._v("[view_source]"),s("OutboundLink")],1)]),t._v(" "),s("p",[t._v("Initializer for Mayim instance")]),t._v(" "),s("p",[t._v("The "),s("code",[t._v("dsn")]),t._v(", "),s("code",[t._v("db_path")]),t._v(", and the "),s("code",[t._v("pool")]),t._v(" are mutually exclusive. Either\none or none of them should be passed. If one exists, it will be used\nto create the fallback interface pool for the datasource. Therefore,\nif an executor does not define its own, then it will use the fallback\npool as established here.")]),t._v(" "),s("p",[t._v("Similarly, the "),s("code",[t._v("hydrator")]),t._v(" is used in the case that an executor does\nnot define a hydrator. If one is not provided, then a generic hydrator\ninstance will be created.")]),t._v(" "),s("p",[t._v("Executors need not be registered when the "),s("code",[t._v("Mayim")]),t._v(" instance is\ninstantiated. See\n"),s("RouterLink",{attrs:{to:"/api/mayim.mayim.html#load"}},[t._v("load")]),t._v(" and "),s("RouterLink",{attrs:{to:"/guide/executors.html#loading-and-instantiating"}},[t._v("loading and instantiating")]),t._v("\nfor more details.")],1),t._v(" "),s("p",[s("strong",[t._v("Arguments")]),t._v(":")]),t._v(" "),s("ul",[s("li",[s("code",[t._v("executors")]),t._v(" "),s("em",[t._v("Sequence[Union[Type[Executor], Executor]], optional")]),t._v(" - Executors\nthat are being loaded at initialization time.\nDefaults to "),s("code",[t._v("None")]),t._v(".")]),t._v(" "),s("li",[s("code",[t._v("dsn")]),t._v(" "),s("em",[t._v("str, optional")]),t._v(" - DSN to the data source. Defaults to "),s("code",[t._v('""')]),t._v(".")]),t._v(" "),s("li",[s("code",[t._v("db_path")]),t._v(" "),s("em",[t._v("str, optional")]),t._v(" - Path to a SQLite database.\nDefaults to "),s("code",[t._v('""')]),t._v(".")]),t._v(" "),s("li",[s("code",[t._v("hydrator")]),t._v(" "),s("em",[t._v("Hydrator, optional")]),t._v(" - Fallback hydrator to use if not\nspecified. Defaults to "),s("code",[t._v("None")]),t._v(".")]),t._v(" "),s("li",[s("code",[t._v("pool")]),t._v(" "),s("em",[t._v("BaseInterface, optional")]),t._v(" - Fallback database interface.\nDefaults to "),s("code",[t._v("None")]),t._v(".")]),t._v(" "),s("li",[s("code",[t._v("strict")]),t._v(" "),s("em",[t._v("bool, optional")]),t._v(" - Whether to raise an error if there is\nan empty method in a decorator but no loaded query.\nDefaults to "),s("code",[t._v("True")]),t._v(".")])]),t._v(" "),s("p",[s("strong",[t._v("Raises")]),t._v(":")]),t._v(" "),s("ul",[s("li",[s("code",[t._v("MayimError")]),t._v(" - If there is conflicing data access source")])]),t._v(" "),s("h3",{attrs:{id:"connect"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#connect"}},[t._v("#")]),t._v(" "),s("code",[t._v("connect")])]),t._v(" "),s("div",{staticClass:"language-python extra-class"},[s("pre",{pre:!0,attrs:{class:"language-python"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("async")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("def")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("connect")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("None")]),t._v("\n")])])]),s("p",[s("a",{attrs:{href:"https://github.com/ahopkins/mayim/tree/main/src/mayim/mayim.py#L221",target:"_blank",rel:"noopener noreferrer"}},[t._v("[view_source]"),s("OutboundLink")],1)]),t._v(" "),s("p",[t._v("Connect to all database interfaces")]),t._v(" "),s("h3",{attrs:{id:"disconnect"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#disconnect"}},[t._v("#")]),t._v(" "),s("code",[t._v("disconnect")])]),t._v(" "),s("div",{staticClass:"language-python extra-class"},[s("pre",{pre:!0,attrs:{class:"language-python"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("async")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("def")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("disconnect")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("None")]),t._v("\n")])])]),s("p",[s("a",{attrs:{href:"https://github.com/ahopkins/mayim/tree/main/src/mayim/mayim.py#L238",target:"_blank",rel:"noopener noreferrer"}},[t._v("[view_source]"),s("OutboundLink")],1)]),t._v(" "),s("p",[t._v("Disconnect from all database interfaces")]),t._v(" "),s("h3",{attrs:{id:"get"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#get"}},[t._v("#")]),t._v(" "),s("code",[t._v("get")])]),t._v(" "),s("div",{staticClass:"language-python extra-class"},[s("pre",{pre:!0,attrs:{class:"language-python"}},[s("code",[s("span",{pre:!0,attrs:{class:"token decorator annotation punctuation"}},[t._v("@staticmethod")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("def")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("get")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("executor"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" Type"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("T"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" T\n")])])]),s("p",[s("a",{attrs:{href:"https://github.com/ahopkins/mayim/tree/main/src/mayim/mayim.py#L113",target:"_blank",rel:"noopener noreferrer"}},[t._v("[view_source]"),s("OutboundLink")],1)]),t._v(" "),s("p",[t._v("Fetch an instance of an executor")]),t._v(" "),s("p",[t._v("This is useful when there you wish to retrieve the registered instance\nof an executor. Can be used in various parts of\nan application without having to pass variables.")]),t._v(" "),s("p",[s("strong",[t._v("Example")]),t._v(":")]),t._v(" "),s("div",{staticClass:"language-python extra-class"},[s("pre",{pre:!0,attrs:{class:"language-python"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" mayim "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" Mayim\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" my"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("package"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("executors "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" AwesomeExecutor\n\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("async")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("def")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("some_func")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    executor "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" Mayim"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("get"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("AwesomeExecutor"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    awesomeness "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("await")]),t._v(" executor"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("select_something_awesome"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("\n")])])]),s("p",[s("strong",[t._v("Arguments")]),t._v(":")]),t._v(" "),s("ul",[s("li",[s("code",[t._v("executor")]),t._v(" "),s("em",[t._v("Type[T]")]),t._v(" - The class of the registered executor instance")])]),t._v(" "),s("p",[s("strong",[t._v("Raises")]),t._v(":")]),t._v(" "),s("ul",[s("li",[s("code",[t._v("MayimError")]),t._v(" - If the passed executor has not been registered")])]),t._v(" "),s("p",[s("strong",[t._v("Returns")]),t._v(":")]),t._v(" "),s("ul",[s("li",[s("code",[t._v("Executor")]),t._v(" - The executor instance")])]),t._v(" "),s("h3",{attrs:{id:"load"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#load"}},[t._v("#")]),t._v(" "),s("code",[t._v("load")])]),t._v(" "),s("div",{staticClass:"language-python extra-class"},[s("pre",{pre:!0,attrs:{class:"language-python"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("def")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("load")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n         executors"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" Sequence"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("Union"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("Type"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("Executor"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" Executor"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n         hydrator"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" Optional"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("Hydrator"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("None")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n         pool"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" Optional"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("BaseInterface"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("None")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n         strict"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" Optional"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("bool")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("None")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("None")]),t._v("\n")])])]),s("p",[s("a",{attrs:{href:"https://github.com/ahopkins/mayim/tree/main/src/mayim/mayim.py#L160",target:"_blank",rel:"noopener noreferrer"}},[t._v("[view_source]"),s("OutboundLink")],1)]),t._v(" "),s("p",[t._v("Look through the Executor definition for methods that should\nexecute a query, then load the corresponding SQL from a .sql file\nand hold in memory.")]),t._v(" "),s("p",[s("strong",[t._v("Arguments")]),t._v(":")]),t._v(" "),s("ul",[s("li",[s("code",[t._v("executors")]),t._v(" "),s("em",[t._v("Sequence[Union[Type[Executor], Executor]]")]),t._v(" - The\nexecutor classes or instances to be registered")]),t._v(" "),s("li",[s("code",[t._v("hydrator")]),t._v(" "),s("em",[t._v("Hydrator, optional")]),t._v(" - Fallback hydrator to use if not\nspecified. Defaults to "),s("code",[t._v("None")]),t._v(".")]),t._v(" "),s("li",[s("code",[t._v("pool")]),t._v(" "),s("em",[t._v("BaseInterface, optional")]),t._v(" - Fallback database interface.\nDefaults to "),s("code",[t._v("None")]),t._v(".")]),t._v(" "),s("li",[s("code",[t._v("strict")]),t._v(" "),s("em",[t._v("bool, optional")]),t._v(" - Whether to raise an error if there is\nan empty method in a decorator but no loaded query.\nDefaults to "),s("code",[t._v("True")]),t._v(".")])]),t._v(" "),s("p",[s("strong",[t._v("Raises")]),t._v(":")]),t._v(" "),s("ul",[s("li",[s("code",[t._v("MayimError")]),t._v(" - If there is no fallback database interface, Mayim will\nraise an exception if there is a registered executor without\nan instance-specific database interface")])]),t._v(" "),s("h3",{attrs:{id:"register"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#register"}},[t._v("#")]),t._v(" "),s("code",[t._v("register")])]),t._v(" "),s("div",{staticClass:"language-python extra-class"},[s("pre",{pre:!0,attrs:{class:"language-python"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("def")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("register")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("cls"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" executor"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" Executor"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("None")]),t._v("\n")])])]),s("p",[s("a",{attrs:{href:"https://github.com/ahopkins/mayim/tree/main/src/mayim/mayim.py#L148",target:"_blank",rel:"noopener noreferrer"}},[t._v("[view_source]"),s("OutboundLink")],1)]),t._v(" "),s("p",[t._v("Register an Executor instance")]),t._v(" "),s("p",[s("strong",[t._v("Arguments")]),t._v(":")]),t._v(" "),s("ul",[s("li",[s("code",[t._v("executor")]),t._v(" "),s("em",[t._v("Executor")]),t._v(" - The instance to be registered")])]),t._v(" "),s("h3",{attrs:{id:"reset-registry"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#reset-registry"}},[t._v("#")]),t._v(" "),s("code",[t._v("reset_registry")])]),t._v(" "),s("div",{staticClass:"language-python extra-class"},[s("pre",{pre:!0,attrs:{class:"language-python"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("def")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("reset_registry")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),s("p",[s("a",{attrs:{href:"https://github.com/ahopkins/mayim/tree/main/src/mayim/mayim.py#L156",target:"_blank",rel:"noopener noreferrer"}},[t._v("[view_source]"),s("OutboundLink")],1)]),t._v(" "),s("p",[t._v("Empty the executor registry")]),t._v(" "),s("h3",{attrs:{id:"transaction"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#transaction"}},[t._v("#")]),t._v(" "),s("code",[t._v("transaction")])]),t._v(" "),s("div",{staticClass:"language-python extra-class"},[s("pre",{pre:!0,attrs:{class:"language-python"}},[s("code",[s("span",{pre:!0,attrs:{class:"token decorator annotation punctuation"}},[t._v("@classmethod")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token decorator annotation punctuation"}},[t._v("@asynccontextmanager")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("async")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("def")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("transaction")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("cls"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v("executors"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" Union"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("SQLExecutor"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" Type"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("SQLExecutor"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),s("p",[s("a",{attrs:{href:"https://github.com/ahopkins/mayim/tree/main/src/mayim/mayim.py#L245",target:"_blank",rel:"noopener noreferrer"}},[t._v("[view_source]"),s("OutboundLink")],1)])])}),[],!1,null,null,null);a.default=n.exports}}]);